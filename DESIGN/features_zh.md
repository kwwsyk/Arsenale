# Arsenale Mod 特性总结

## 一、武器种类扩展
- 新增约 100 种武器模板（Weapon Class/Weapon Type）。
- 每种武器有独特的外观、动作模组和数值设定。
- 支持“特化武器/命名武器”（Specified/Named Weapons），在模板基础上附加独有特性与战技。

## 二、与锻造类模组联动
- 兼容 **Silent Gear**：提供 100+ 蓝图，材料统计直接参与数值缩放。
- 兼容 **Tetra**：为模板映射模块槽与部件树；命名武器可锁定预设组合。
- 兼容 **匠魂 (Tinkers’ Construct)**：模板映射为工具类型，支持材料与修饰器。
- 基础数值与材料倍率统一由 **Param** 定义，跨模组一致。

## 三、动作模组与战技（Param 驱动，简实现可运行）
- **状态化动作模组（Moveset）**：按环境切换（冲刺/重击/下落/飞行/水中等）。生成动作 JSON，与 **Better Combat** 等联动；缺失外部模组时使用内置动作表。
- **战技（Weapon Art）**：视作“特殊动作模组”。独立注册表 **ArtRegistry**，含消耗、冷却、动画、效果；可绑定到武器类或命名武器。
- **Param 定义为主**：动作选择表、帧参数、命中箱、资源消耗、冷却与优先级均归档于 **Param**；运行期从 Param 编译为只读曲线与表。
- **调试要点**：
  - F3 调试开关显示攻击轮廓/命中箱/位移轨迹与关键帧标记。
  - 指令：`/arsenale simulate <id>` 输出 DPS、命中帧直方图、硬直循环；异常越界报警。

## 四、参数与编辑器（Param + ParamEditor）
- **Param 管理**：
  - **JSON 为运行时真源**，`Codec` 强校验；
  - **CSV 仅用于批量编辑**，经转换导入 JSON；
  - 支持继承与片段复用（ref/extends）。
- **游戏内编辑器**：
  - 表单化 UI（滑条、步进、下拉、多选、曲线编辑器）。
  - 实时预览数值变化与动作时序图；本地校验→服务器仲裁→广播快照；
  - 权限控制（仅 OP/权限节点），带日志审计与版本回滚；
  - 支持导入 CSV、导出 JSON。

## 五、Hook 系统与 Config 设置项
- **Hook**：提供 `AttributeHook`、`CapabilityHook`、`TagHook`，用 `ResourceLocation` 识别；目标存在即应用，缺失静默跳过。
- **Config 设置项**（示例）：
  - `enableAutoHooks`：是否自动应用 Hook；
  - `betterCombatBridge`：启用/禁用动作桥接；
  - `editorEnabled`：是否允许游戏内编辑；
  - `debugF3Overlay`：F3 调试覆盖层；
  - `networkSyncMode`：参数同步策略（哈希校验/强制一致）。

## 六、性能与兼容性
- 资源加载期编译动作与数值为只读表，战斗时零反射、仅查表。
- 网络仅同步差量与哈希，版本不一致自动拒绝连接并提示。
- 未安装联动模组时自动降级，保持注册与配方可用。

## 七、开发与扩展（API + 附加 Param）
- **API**：对外开放读取与写入 Param 的接口、动作生成器与战技注册入口；提供 Datagen 与模拟器调用入口。
- **可扩的自定义附加 Param**：第三方模组可注册命名空间下的“附加 Param”字段（以 `ResourceLocation` 键控），参与校验与导出；用于新增属性、资源消耗或动作修饰。

